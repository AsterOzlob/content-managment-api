# üìö Content Management API –Ω–∞ Golang

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **RESTful API-—Å–µ—Ä–≤–µ—Ä**, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è **Golang**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º: —Å—Ç–∞—Ç—å—è–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–æ–ª—è–º–∏ –∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º–∏.

API —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç **–ø—Ä–∏–Ω—Ü–∏–ø–∞–º REST**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ **JWT-—Ç–æ–∫–µ–Ω—ã** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Go 1.24**
- **Gin**
- **GORM**
- **JWT**
- **PostgreSQL**
- **Swagger / Gin-Swagger**
- **Docker + Docker Compose**

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [Docker](https://www.docker.com/products/docker-desktop)
- [Docker Compose](https://docs.docker.com/compose/install/)

### –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/AsterOzlob/content-managment-api.git
   cd content-managment-api
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:
   ```bash
   copy .env.example .env
   ```
   –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

3. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```bash
   docker-compose build
   docker-compose up -d
   ```

4. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
   ```
   http://localhost:8080/docs
   ```

5. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   docker-compose stop
   ```

6. –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   ```bash
   docker-compose down -v
   ```

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è:
- **–†–æ–ª–∏**
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
- **–°—Ç–∞—Ç—å–∏**
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
- **–ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã**

### üé≠ –†–æ–ª–∏
| –†–æ–ª—å | –ü—Ä–∞–≤–∞ |
|------|--------|
| `admin` | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º |
| `author` | –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Å—Ç–∞—Ç—å—è–º–∏ |
| `moderator` | –ú–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –ª—é–±—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |
| `user` | –ú–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å–∏ –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
| –ò–º—è | Email | –ü–∞—Ä–æ–ª—å | –†–æ–ª—å |
|-----|-------|--------|------|
| admin | admin@example.com | password | admin |
| john_doe | john@example.com | password | author |
| jane_moderator | jane@example.com | password | moderator |
| guest_user | guest@example.com | password | user |

---

## üì° –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã API

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å | –†–æ–ª–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|------|----------|
| `POST` | `/users/signup` | –í—Å–µ | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `POST` | `/users/login` | –í—Å–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞ |
| `GET`  | `/users/:id` | `user`, `admin` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ ID |
| `GET`  | `/users` | `admin` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `PATCH`| `/users/:id/role` | `admin` | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| `DELETE` | `/users/:id` | `admin` | –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### üìÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å | –†–æ–ª–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|------|----------|
| `GET` | `/articles` | –í—Å–µ | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π |
| `GET` | `/articles/:id` | –í—Å–µ | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç–∞—Ç—å–∏ |
| `POST` | `/articles` | `author`, `admin` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏ |
| `PUT` | `/articles/:id` | `author`, `moderator`, `admin` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ |
| `DELETE` | `/articles/:id` | `author`, `moderator`, `admin` | –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ |

### üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å | –†–æ–ª–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|------|----------|
| `POST` | `/articles/:id/comments` | –í—Å–µ | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ —Å—Ç–∞—Ç—å–µ |
| `GET` | `/articles/:id/comments` | –í—Å–µ | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ ID —Å—Ç–∞—Ç—å–∏ |
| `PUT` | `/articles/comments/:id` | –í—Å–µ | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è |
| `DELETE` | `/comments/:id` | `author`, `moderator`, `admin` | –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è |

### üñºÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º–∏

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å | –†–æ–ª–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|------|----------|
| `POST` | `/media/upload` | `author`, `admin` | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫ —Å—Ç–∞—Ç—å–µ |
| `POST` | `/media/upload/unlinked` | `author`, `admin` | –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ |
| `GET` | `/media` | –í—Å–µ | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ |
| `GET` | `/media/:id` | –í—Å–µ | –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –ø–æ ID —Å—Ç–∞—Ç—å–∏ |
| `DELETE` | `/media/:id` | `author`, `moderator`, `admin` | –£–¥–∞–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞ |

### üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å | –†–æ–ª–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|------|----------|
| `POST` | `/roles` | `admin` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ä–æ–ª–∏ |
| `GET` | `/roles` | `admin` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ä–æ–ª–µ–π |
| `GET` | `/roles/:id` | `admin` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–æ–ª–∏ |
| `PUT` | `/roles/:id` | `admin` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–æ–ª–∏ |
| `DELETE` | `/roles/:id` | `admin` | –£–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ |

---

## üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- http://localhost:8080/docs
- http://localhost:8080/swagger/index/html

---

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

| –†–æ–ª—å | –î–æ—Å—Ç—É–ø |
|------|--------|
| `user` | –ß—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ |
| `author` | –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–∏—Ö —Å—Ç–∞—Ç–µ–π, –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ |
| `moderator` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ª—é–±—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ |
| `admin` | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–æ–ª—è–º–∏, —Å—Ç–∞—Ç—å—è–º–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏, –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º–∏ |

## üìÇ –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

- –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `./uploads` (–Ω–∞ —Ö–æ—Å—Ç–µ)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: `image/jpeg`, `image/png`, `application/pdf`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: `5 MB`

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–∏—à–∏ –Ω–∞:
üìß work_tumoshenko204@mail.ru

---

## üôå –ê–≤—Ç–æ—Ä

**–¢–∏–º–æ—à–µ–Ω–∫–æ –ê–Ω—Ç–æ–Ω**

---

## üß† –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

- –ù–µ –∑–∞–±—É–¥—å –¥–æ–±–∞–≤–∏—Ç—å `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É `.env.example` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---
